package com.fca.systems.scripts
import net.sf.json.groovy.JsonSlurper
import spock.lang.Shared
import spock.lang.Specification
import groovy.json.internal.MapItemValue
import java.lang.String
import java.util.Map

class ReturnMicroSErviceSubCategoryDescription extends Specification{


	def "pick the each key in a JSON with nested Map and List"(){

		given:
		def jsonSlurper = new JsonSlurper()
		def MainServiceSubCatMap=[:]
		def subcategoryDescrptionMap=[]
		def MainsubcategoryDescrptionMap=[]
	
		def MainServiceMap=jsonSlurper.parseText('{"competitors":[{"referenceId":"3ce70e4c-f7a8-4f80-ac3e-fadd1c93c6f6","code":"CUC201709UFCH41B","lowerLevelPackage":"2DK","year":"2017","vehicle":{"code":"CUC201709","description":"Chrysler 200"},"brand":{"code":"C","description":"CHRYSLER"},"prices":{"base":24610,"net":25238,"selectedOptions":{"msrp":0,"invoice":0},"subTotal":{"msrp":24610,"invoice":24143},"total":{"msrp":25238,"invoice":1095}},"description":"Chrysler 200","media":{"image":""},"configuration":"eJxdkcsSgyAMRX-IhdKXXfLwMQodBrW6on5IP76g0zaXYQHnJjdkkvebVwMrWbGfkW21vm666UK82ekvJ0k4wfhPClGiGdEQJlvSWmFpF8JBGvaNtyx4kdw_XO-vAtzxu02a4Eb1Kjgto62iyM_D_kzVVMQroFgFRd1cKNa6AvSSotI17bB3lqIqJUY94gzJsqU4KkXRN4ai6QB74yC5GwCnBsbosSsjKLaPC3hHjSuQiB0m3zDaI8KsJnuMvTwmufK0XCLYeaDohE9LBmXOFWVyxT-zsm655cpaZa4PKF6oMw"},{"referenceId":"7157eddc-c1a2-40b6-a9dc-4ed9aea744e4","code":"CUC201701LXFL48B","lowerLevelPackage":"2DL","year":"2017","vehicle":{"code":"CUC201701","description":"Chrysler 300"},"brand":{"code":"C","description":"CHRYSLER"},"prices":{"base":38670,"net":38374,"selectedOptions":{"msrp":0,"invoice":0},"subTotal":{"msrp":38670,"invoice":37279},"total":{"msrp":38374,"invoice":1095}},"description":"Chrysler 300","media":{"image":""},"configuration":"eJxdkEESgyAMRS_EQnDRbqNIF0aHQlHaBXIQDy_Yjg0MC_Ienwlh34VAJlhzLsviYLooFYa0s_bSATSQVEgJevrShvE_riBT8RWPFKYNggNLs6PfGkFETJ2ixJiedb1F-_vWcHoL7EA79KgoTrYtkI8FAhb4WSjOQxEGpc4yD9CzgEgJAE7kP0RN0cGT4uQtRQ0mz1QYV5vO10bOtTFL_sDCvGuz3qpbB7GYcjk"}],"equipment-categories":{"categories":{"2":{"description":"Engine & Transmission","order":{"CUC201701LXFL48B":1,"CUC201709UFCH41B":1}},"7":{"description":"Mechanical Features","order":{"CUC201701LXFL48B":2,"CUC201709UFCH41B":2}},"19":{"description":"Exterior Colors","order":{"CUC201701LXFL48B":4,"CUC201709UFCH41B":4}},"29":{"description":"Audio & Uconnect® Multimedia","order":{"CUC201701LXFL48B":7,"CUC201709UFCH41B":7}},"33":{"description":"Interior Features","order":{"CUC201701LXFL48B":8,"CUC201709UFCH41B":8}},"38":{"description":"Packages & Equipment Groups","order":{"CUC201701LXFL48B":3,"CUC201709UFCH41B":3}},"49":{"description":"Other(s)","order":{"CUC201701LXFL48B":11,"CUC201709UFCH41B":11}},"59":{"description":"Seating & Trim","order":{"CUC201701LXFL48B":6,"CUC201709UFCH41B":6}},"60":{"description":"Safety & Security","order":{"CUC201701LXFL48B":9,"CUC201709UFCH41B":9}},"71":{"description":"Exterior Features","order":{"CUC201701LXFL48B":5,"CUC201709UFCH41B":5}},"112":{"description":"Do Not Display","order":{"CUC201701LXFL48B":10,"CUC201709UFCH41B":10}}},"subCategories":{"4":{"description":"Engine","categoryId":"2","order":{"CUC201701LXFL48B":1,"CUC201709UFCH41B":1}},"5":{"description":"Transmissions","categoryId":"2","order":{"CUC201701LXFL48B":2,"CUC201709UFCH41B":2}},"8":{"description":"GVWR Packages","categoryId":"7","order":{"CUC201701LXFL48B":1,"CUC201709UFCH41B":1}},"9":{"description":"Axles","categoryId":"7","order":{"CUC201701LXFL48B":2}},"11":{"description":"Gear Ratios","categoryId":"7","order":{"CUC201701LXFL48B":3,"CUC201709UFCH41B":2}},"12":{"description":"Transfer Cases","categoryId":"7","order":{"CUC201701LXFL48B":4}},"20":{"description":"Exterior Colors","categoryId":"19","order":{"CUC201701LXFL48B":1,"CUC201709UFCH41B":1}},"30":{"description":"Sound Systems","categoryId":"29","order":{"CUC201701LXFL48B":1,"CUC201709UFCH41B":1}},"32":{"description":"Sound System Components","categoryId":"29","order":{"CUC201701LXFL48B":2,"CUC201709UFCH41B":2}},"34":{"description":"Climate Control Systems","categoryId":"33","order":{"CUC201701LXFL48B":3,"CUC201709UFCH41B":3}},"41":{"description":"Packages & Equipment Groups","categoryId":"38","order":{"CUC201701LXFL48B":1,"CUC201709UFCH41B":1}},"43":{"description":"Interior Mirrors","categoryId":"33","order":{"CUC201701LXFL48B":5,"CUC201709UFCH41B":5}},"46":{"description":"Suspension","categoryId":"7","order":{"CUC201701LXFL48B":6,"CUC201709UFCH41B":4}},"50":{"description":"Other(s)","categoryId":"49","order":{"CUC201701LXFL48B":1,"CUC201709UFCH41B":1}},"55":{"description":"Monotone Exterior Colors","categoryId":"19","order":{"CUC201701LXFL48B":2,"CUC201709UFCH41B":2}},"57":{"description":"Battery","categoryId":"7","order":{"CUC201701LXFL48B":7,"CUC201709UFCH41B":5}},"58":{"description":"Alternators","categoryId":"7","order":{"CUC201701LXFL48B":8,"CUC201709UFCH41B":6}},"62":{"description":"Brakes","categoryId":"7","order":{"CUC201701LXFL48B":5,"CUC201709UFCH41B":3}},"63":{"description":"Exhaust Systems","categoryId":"7","order":{"CUC201701LXFL48B":9,"CUC201709UFCH41B":7}},"64":{"description":"Fuel Tanks","categoryId":"7","order":{"CUC201701LXFL48B":10,"CUC201709UFCH41B":8}},"65":{"description":"Steering Systems","categoryId":"7","order":{"CUC201701LXFL48B":11,"CUC201709UFCH41B":9}},"68":{"description":"Emissions","categoryId":"7","order":{"CUC201701LXFL48B":12,"CUC201709UFCH41B":10}},"70":{"description":"Additional Mechanical Features","categoryId":"7","order":{"CUC201701LXFL48B":13,"CUC201709UFCH41B":11}},"72":{"description":"Wheels","categoryId":"71","order":{"CUC201701LXFL48B":2,"CUC201709UFCH41B":1}},"74":{"description":"Tires","categoryId":"71","order":{"CUC201701LXFL48B":3,"CUC201709UFCH41B":2}},"75":{"description":"Stripes & Decals","categoryId":"71","order":{"CUC201701LXFL48B":1}},"76":{"description":"Tops","categoryId":"71","order":{"CUC201701LXFL48B":1}},"77":{"description":"Glass","categoryId":"71","order":{"CUC201701LXFL48B":4,"CUC201709UFCH41B":4}},"78":{"description":"Exterior Mirrors","categoryId":"71","order":{"CUC201701LXFL48B":5,"CUC201709UFCH41B":5}},"79":{"description":"Doors","categoryId":"71","order":{"CUC201701LXFL48B":6,"CUC201709UFCH41B":6}},"80":{"description":"Lighting","categoryId":"71","order":{"CUC201701LXFL48B":7,"CUC201709UFCH41B":7}},"81":{"description":"Bumpers & Fascias","categoryId":"71","order":{"CUC201701LXFL48B":8,"CUC201709UFCH41B":8}},"82":{"description":"Grilles","categoryId":"71","order":{"CUC201701LXFL48B":9,"CUC201709UFCH41B":9}},"88":{"description":"Spoilers","categoryId":"71","order":{"CUC201701LXFL48B":10}},"91":{"description":"Wiper Systems","categoryId":"71","order":{"CUC201701LXFL48B":11,"CUC201709UFCH41B":10}},"92":{"description":"Exterior Design","categoryId":"71","order":{"CUC201701LXFL48B":12,"CUC201709UFCH41B":11}},"93":{"description":"Additional Exterior Features","categoryId":"71","order":{"CUC201701LXFL48B":13,"CUC201709UFCH41B":12}},"94":{"description":"Interior Colors","categoryId":"59","order":{"CUC201701LXFL48B":1,"CUC201709UFCH41B":1}},"95":{"description":"Seat Types","categoryId":"59","order":{"CUC201701LXFL48B":2,"CUC201709UFCH41B":2}},"97":{"description":"Seat Features","categoryId":"59","order":{"CUC201701LXFL48B":3,"CUC201709UFCH41B":3}},"99":{"description":"Navigation Systems","categoryId":"29","order":{"CUC201701LXFL48B":4,"CUC201709UFCH41B":4}},"101":{"description":"Sunroofs","categoryId":"33","order":{"CUC201701LXFL48B":1,"CUC201709UFCH41B":1}},"102":{"description":"Consoles & Storage","categoryId":"33","order":{"CUC201701LXFL48B":2,"CUC201709UFCH41B":2}},"103":{"description":"Floor Mats","categoryId":"33","order":{"CUC201701LXFL48B":6,"CUC201709UFCH41B":6}},"104":{"description":"Interior Design","categoryId":"33","order":{"CUC201701LXFL48B":7,"CUC201709UFCH41B":7}},"105":{"description":"Additional Interior Features","categoryId":"33","order":{"CUC201701LXFL48B":8,"CUC201709UFCH41B":8}},"106":{"description":"Windows & Locks","categoryId":"33","order":{"CUC201701LXFL48B":4,"CUC201709UFCH41B":4}},"107":{"description":"Safety & Security Systems","categoryId":"60","order":{"CUC201701LXFL48B":1,"CUC201709UFCH41B":1}},"108":{"description":"Air Bags","categoryId":"60","order":{"CUC201701LXFL48B":2,"CUC201709UFCH41B":2}},"109":{"description":"Restraint Systems","categoryId":"60","order":{"CUC201701LXFL48B":3,"CUC201709UFCH41B":3}},"110":{"description":"Locks & Keys","categoryId":"60","order":{"CUC201701LXFL48B":4,"CUC201709UFCH41B":4}},"111":{"description":"Additional Safety & Security Features","categoryId":"60","order":{"CUC201701LXFL48B":5,"CUC201709UFCH41B":5}},"113":{"description":"Upper Level Packages","categoryId":"112","order":{"CUC201701LXFL48B":1,"CUC201709UFCH41B":1}},"114":{"description":"Lower Level Packages","categoryId":"112","order":{"CUC201701LXFL48B":2,"CUC201709UFCH41B":2}},"187":{"description":"Speaker Systems","categoryId":"29","order":{"CUC201701LXFL48B":3,"CUC201709UFCH41B":3}}}},"options":{"28K":{"description":"Customer Preferred Package 28K","details":"","models":{"CUC201709UFCH41B":{"categoryId":112,"subCategoryId":113,"order":0,"equipmentId":["28K"],"state":"S","standard":false,"selected":true,"onlyOne":false,"content":[{"code":"BL","variation":"BL-04"},{"code":"SCC","variation":"SCC-01"},{"code":"RA3","variation":"RA3-01"}],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{}}}},"WGW":{"description":"17-Inch x 7.5-Inch Tech Silver Aluminum Wheels","details":"","models":{"CUC201709UFCH41B":{"categoryId":71,"subCategoryId":72,"order":0,"equipmentId":["WGW"],"state":"S","standard":true,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{}}}},"UAS":{"description":"Uconnect® 4C with 8.4-Inch Display","details":"","models":{"CUC201701LXFL48B":{"categoryId":29,"subCategoryId":30,"order":0,"equipmentId":["UAS"],"state":"S","standard":true,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{}}}},"PX8_01":{"description":"Gloss Black Exterior Paint","details":"TYPE=Primary RED=14 GREEN=14 BLUE=15 TABLEREQ=APA-01 TABLE=Primary w/S GENERICCLR=Black GENERICCLRCODE=2","models":{"CUC201701LXFL48B":{"categoryId":19,"subCategoryId":20,"order":0,"equipmentId":["PX8"],"state":"S","standard":false,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{}}}},"DFH":{"description":"9-Speed 948TE Auto Transmission for 2.4L Engine","details":"The nine-speed automatic transmission automatically changes gears as the vehicle moves so you dont have to shift gears manually.","models":{"CUC201709UFCH41B":{"categoryId":2,"subCategoryId":5,"order":0,"equipmentId":["DFH"],"state":"S","standard":true,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{}}}},"DL":{"description":"Leather-Trimmed Sport Bucket Seats","details":"Premium leather-trimmed bucket seats are contoured to hold a single person comfortably, safely and securely for a smooth, luxurious ride.","models":{"CUC201701LXFL48B":{"categoryId":59,"subCategoryId":95,"order":0,"equipmentId":["*DL"],"state":"S","standard":true,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{},"combinations":["KX_02"]}}},"DFL":{"description":"3.6L V6 8-Speed Automatic Transmission","details":"The TorqueFlite® 8 eight-speed automatic transmission operates in eight gears for quality control and excellent performance in all conditions.","models":{"CUC201701LXFL48B":{"categoryId":2,"subCategoryId":5,"order":0,"equipmentId":["DFL"],"state":"S","standard":true,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{}}}},"X9_01":{"description":"Black Interior Color","details":"TYPE=Interior RED=16 GREEN=16 BLUE=16 TABLEREQ=APA-01 TABLE=Primary w/Limited GENERICCLR=Black GENERICCLRCODE=2","models":{"CUC201709UFCH41B":{"categoryId":59,"subCategoryId":94,"order":0,"equipmentId":["-X9"],"state":"S","standard":false,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{}}}},"22L":{"description":"Customer Preferred Package 22L","details":"","models":{"CUC201701LXFL48B":{"categoryId":112,"subCategoryId":113,"order":0,"equipmentId":["22L"],"state":"S","standard":false,"selected":true,"onlyOne":false,"content":[{"code":"WAD","variation":"WAD-01"},{"code":"ASE","variation":"ASE-01"},{"code":"CLF","variation":"CLF-01"},{"code":"MS3","variation":"MS3-01"},{"code":"M1K","variation":"M1K-01"},{"code":"MAL","variation":"MAL-01"},{"code":"MZV","variation":"MZV-01"},{"code":"NEK","variation":"NEK-01"}],"pricing":{"msrp":0,"invoice":0,"noCharge":false,"included":true},"media":{}}}},"PSC_02":{"description":"Billet Silver Metallic Clear Coat Exterior Paint","details":"TYPE=Primary RED=130 GREEN=134 BLUE=136 TABLEREQ=APA-01 TABLE=Primary w/Limited GENERICCLR=Silver GENERICCLRCODE=4","models":{"CUC201709UFCH41B":{"categoryId":19,"subCategoryId":20,"order":0,"equipmentId":["PSC"],"state":"S","standard":false,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{}}}},"ERB":{"description":"3.6-Liter V6 24-Valve VVT Engine","details":"The  3.6L Pentastar® V6 engine delivers 292 horsepower and 260 lb-ft of torque. It features a compact, lightweight design with dual overhead camshafts, high-flow intake and exhaust ports, Variable Valve Timing and Electronic Throttle Control with integrated speed control.","models":{"CUC201701LXFL48B":{"categoryId":2,"subCategoryId":4,"order":0,"equipmentId":["ERB"],"state":"S","standard":true,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{}}}},"ED6":{"description":"2.4-Liter I4 MultiAir® Engine","details":"The 2.4L I4 MultiAir® engine features advanced technologies including Dual Variable Valve Timing (VVT) and a flow-control valve intake manifold. This engine delivers 184 horsepower, 173 lb-ft of torque and up to 36 highway mpg[1].<br><br>1. EPA estimated mpg with the 2.4L engine and nine-speed automatic transmission, FWD. Actual mileage may vary.","models":{"CUC201709UFCH41B":{"categoryId":2,"subCategoryId":4,"order":0,"equipmentId":["ED6"],"state":"S","standard":true,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{}}}},"TPR":{"description":"235/55R19 BSW All Season Performance Tires","details":"","models":{"CUC201701LXFL48B":{"categoryId":71,"subCategoryId":74,"order":0,"equipmentId":["TPR"],"state":"S","standard":true,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{}}}},"TM1":{"description":"215/55R17 BSW All Season Tires","details":"","models":{"CUC201709UFCH41B":{"categoryId":71,"subCategoryId":74,"order":0,"equipmentId":["TM1"],"state":"S","standard":true,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{}}}},"DMC":{"description":"3.251 Final Drive Ratio","details":"","models":{"CUC201709UFCH41B":{"categoryId":7,"subCategoryId":11,"order":0,"equipmentId":["DMC"],"state":"S","standard":false,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":false,"included":true},"media":{}}}},"KX_02":{"description":"Black / Caramel Interior Colors","details":"TYPE=Interior RED=84 GREEN=59 BLUE=42 TABLEREQ=APA-01 TABLE=Primary w/S GENERICCLR=Beige GENERICCLRCODE=31","models":{"CUC201701LXFL48B":{"categoryId":59,"subCategoryId":94,"order":0,"equipmentId":["-KX"],"state":"S","standard":false,"selected":true,"onlyOne":false,"content":[],"pricing":{"msrp":0,"invoice":0,"noCharge":true,"included":true},"media":{}}}}}}')
		def GETMicroServiceMap=jsonSlurper.parseText('{"2":{"shortDescription":"Engine & Transmission","order":1,"visible":true,"subCategories":[{"subCategoryId":4,"shortDescription":"Engine","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/2/subCategories/4"}}},{"subCategoryId":5,"shortDescription":"Transmissions","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/2/subCategories/5"}}}]},"7":{"shortDescription":"Mechanical Features","order":2,"visible":true,"subCategories":[{"subCategoryId":8,"shortDescription":"GVWR Packages","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/7/subCategories/8"}}},{"subCategoryId":9,"shortDescription":"Axles","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/7/subCategories/9"}}},{"subCategoryId":11,"shortDescription":"Gear Ratios","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/7/subCategories/11"}}},{"subCategoryId":12,"shortDescription":"Transfer Cases","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/7/subCategories/12"}}},{"subCategoryId":46,"shortDescription":"Suspension","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/7/subCategories/46"}}},{"subCategoryId":57,"shortDescription":"Battery","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/7/subCategories/57"}}},{"subCategoryId":58,"shortDescription":"Alternators","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/7/subCategories/58"}}},{"subCategoryId":62,"shortDescription":"Brakes","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/7/subCategories/62"}}},{"subCategoryId":63,"shortDescription":"Exhaust Systems","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/7/subCategories/63"}}},{"subCategoryId":64,"shortDescription":"Fuel Tanks","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/7/subCategories/64"}}},{"subCategoryId":65,"shortDescription":"Steering Systems","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/7/subCategories/65"}}},{"subCategoryId":68,"shortDescription":"Emissions","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/7/subCategories/68"}}},{"subCategoryId":70,"shortDescription":"Additional Mechanical Features","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/7/subCategories/70"}}}]},"19":{"shortDescription":"Exterior Colors","order":4,"visible":true,"subCategories":[{"subCategoryId":20,"shortDescription":"Exterior Colors","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/19/subCategories/20"}}},{"subCategoryId":55,"shortDescription":"Monotone Exterior Colors","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/19/subCategories/55"}}}]},"29":{"shortDescription":"Audio & Uconnect® Multimedia","order":7,"visible":true,"subCategories":[{"subCategoryId":30,"shortDescription":"Sound Systems","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/29/subCategories/30"}}},{"subCategoryId":32,"shortDescription":"Sound System Components","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/29/subCategories/32"}}},{"subCategoryId":99,"shortDescription":"Navigation Systems","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/29/subCategories/99"}}},{"subCategoryId":187,"shortDescription":"Speaker Systems","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/29/subCategories/187"}}}]},"33":{"shortDescription":"Interior Features","order":8,"visible":true,"subCategories":[{"subCategoryId":34,"shortDescription":"Climate Control Systems","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/33/subCategories/34"}}},{"subCategoryId":43,"shortDescription":"Interior Mirrors","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/33/subCategories/43"}}},{"subCategoryId":101,"shortDescription":"Sunroofs","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/33/subCategories/101"}}},{"subCategoryId":102,"shortDescription":"Consoles & Storage","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/33/subCategories/102"}}},{"subCategoryId":103,"shortDescription":"Floor Mats","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/33/subCategories/103"}}},{"subCategoryId":104,"shortDescription":"Interior Design","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/33/subCategories/104"}}},{"subCategoryId":105,"shortDescription":"Additional Interior Features","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/33/subCategories/105"}}},{"subCategoryId":106,"shortDescription":"Windows & Locks","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/33/subCategories/106"}}}]},"38":{"shortDescription":"Packages & Equipment Groups","order":3,"visible":true,"subCategories":[{"subCategoryId":41,"shortDescription":"Packages & Equipment Groups","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/38/subCategories/41"}}}]},"49":{"shortDescription":"Other(s)","order":11,"visible":true,"subCategories":[{"subCategoryId":50,"shortDescription":"Other(s)","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/49/subCategories/50"}}}]},"59":{"shortDescription":"Seating & Trim","order":6,"visible":true,"subCategories":[{"subCategoryId":94,"shortDescription":"Interior Colors","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/59/subCategories/94"}}},{"subCategoryId":95,"shortDescription":"Seat Types","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/59/subCategories/95"}}},{"subCategoryId":97,"shortDescription":"Seat Features","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/59/subCategories/97"}}}]},"60":{"shortDescription":"Safety & Security","order":9,"visible":true,"subCategories":[{"subCategoryId":107,"shortDescription":"Safety & Security Systems","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/60/subCategories/107"}}},{"subCategoryId":108,"shortDescription":"Air Bags","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/60/subCategories/108"}}},{"subCategoryId":109,"shortDescription":"Restraint Systems","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/60/subCategories/109"}}},{"subCategoryId":110,"shortDescription":"Locks & Keys","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/60/subCategories/110"}}},{"subCategoryId":111,"shortDescription":"Additional Safety & Security Features","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/60/subCategories/111"}}}]},"71":{"shortDescription":"Exterior Features","order":5,"visible":true,"subCategories":[{"subCategoryId":72,"shortDescription":"Wheels","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/71/subCategories/72"}}},{"subCategoryId":74,"shortDescription":"Tires","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/71/subCategories/74"}}},{"subCategoryId":76,"shortDescription":"Tops","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/71/subCategories/76"}}},{"subCategoryId":77,"shortDescription":"Glass","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/71/subCategories/77"}}},{"subCategoryId":78,"shortDescription":"Exterior Mirrors","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/71/subCategories/78"}}},{"subCategoryId":79,"shortDescription":"Doors","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/71/subCategories/79"}}},{"subCategoryId":80,"shortDescription":"Lighting","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/71/subCategories/80"}}},{"subCategoryId":81,"shortDescription":"Bumpers & Fascias","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/71/subCategories/81"}}},{"subCategoryId":82,"shortDescription":"Grilles","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/71/subCategories/82"}}},{"subCategoryId":88,"shortDescription":"Spoilers","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/71/subCategories/88"}}},{"subCategoryId":91,"shortDescription":"Wiper Systems","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/71/subCategories/91"}}},{"subCategoryId":92,"shortDescription":"Exterior Design","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/71/subCategories/92"}}},{"subCategoryId":93,"shortDescription":"Additional Exterior Features","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/71/subCategories/93"}}}]},"112":{"shortDescription":"Do Not Display","order":10,"visible":true,"subCategories":[{"subCategoryId":113,"shortDescription":"Upper Level Packages","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/112/subCategories/113"}}},{"subCategoryId":114,"shortDescription":"Lower Level Packages","_links":{"self":{"href":"http://purple-20.fcaus.autodata.tech:80/equipment-categories/models/CUC201701LXFL48B/lowerLevelPackages/2DL/categories/112/subCategories/114"}}}]}}')
		
		when:

		 subcategoryDescrptionMap=getMicroServiceSubCategoryDescription(GETMicroServiceMap)
		 
		 
			 
			 MainServiceMap.each{ key, value->
			 if( key=="equipment-categories" ){
				 value.subCategories.each{k,v->
					 MainServiceSubCatMap=["$k":v.description]
					 MainsubcategoryDescrptionMap.add(MainServiceSubCatMap)
				
				 }
				}
			}
		

		then:
		
		println subcategoryDescrptionMap
		println MainsubcategoryDescrptionMap.sort()
		
		assert subcategoryDescrptionMap ==MainsubcategoryDescrptionMap
		
		
	}
	def getMicroServiceSubCategoryDescription(Map map, String prefix=''){
		def OptionsCategoryIdss=[:]
		def MicroServiceCategoryDescriptionArray=[]
		if(map instanceof Map){

		map.each { key, value->
			
							if(value instanceof Map){
			
								value.each{k,v->
									if(k=="subCategories" && v instanceof List)
									{
										v.eachWithIndex{item,index->
											item.each{
												OptionsCategoryIdss=["$item.subCategoryId":item.shortDescription]}
											MicroServiceCategoryDescriptionArray.add(OptionsCategoryIdss)
											
											//println OptionsCategoryIdss
			
										}
			
			
			
									}
								}
			
							}
						}

	
				MicroServiceCategoryDescriptionArray.sort()
			}
		}
	}
